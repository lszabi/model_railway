
	*** Two Wire Powered Communication protocol ***

Byte format: 8 data bits

400+ us power cycle + 80 us data cycle (1 bit each) with 20 us spaces
see /mega/main.c for more details

Broadcast id: 255

Connection:
	master: 255 + NEW_DEVICE
	slave: 1 bit
	master:	new id
	slave:	uid + [DEV_TRAIN | DEV_STATION] + END

Data transmit:
	master:	id + command
	slave:	response + [END | DATA]

END: next id

Communcation master states:
	0, expect 1 bit
	1, expect data + END
	2, send data

Communication slave states:
	0, connect
	1, send response
	2, receive command
	3, wait 1 bit + id + 2 byte

Commands:
(0x00 can be misleading, don't use it)
#define TWPC_CMD_NOP 0x01
#define TWPC_CMD_END 0x02
#define TWPC_CMD_DATA 0x03
#define TWPC_CMD_ERR 0x04
#define TWPC_CMD_OK 0x05
#define TWPC_CMD_NEW_DEVICE 0x06
#define TWPC_CMD_DISCONNECT 0x07
#define TWPC_CMD_LIGHT_ON 0x08
#define TWPC_CMD_LIGHT_OFF 0x09
#define TWPC_CMD_STOP 0x0A
#define TWPC_CMD_MOTORA 0x0B
#define TWPC_CMD_MOTORB 0x0C
#define TWPC_CMD_UID1 0x0D
#define TWPC_CMD_UID2 0x0E
#define TWPC_CMD_UID3 0x0F
#define TWPC_CMD_TYPE 0x10

#define TWPC_DEV_STATION 0xFE
#define TWPC_DEV_TRAIN 0xFF